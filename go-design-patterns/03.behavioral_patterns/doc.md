# Behavioral Patterns

 Behavioral patternsは、構造体を定義したり、オブジェクトをカプセル化したりするのではなく、振る舞いを扱うことになる。

ヘイビアパターンで何を扱うのか？例えば、Strategyパターンではアルゴリズムを、Commandパターンでは実行を、それぞれカプセル化する。

正しい振る舞いの設計は、オブジェクトの生成と構造の扱い方を知った後の最後のステップである。なぜなら、良いソフトウェア設計をすれば、アルゴリズムを改善したり、エラーを修正したりすることが容易になるからである。

## Strategy pattern

### Description

Strategyパターンは、ある特定の機能を実現するために、異なるアルゴリズムを使用する。これらのアルゴリズムはインターフェースの後ろに隠されており、当然、交換可能となる。すべてのアルゴリズムは、同じ機能を異なる方法で実現する。例えば、Sort インターフェースといくつかのソートアルゴリズムがあるとする。結果は同じで、あるリストがソートるが、アルゴリズムは、クイックショートやマージショートなどを使用することが可能になる。

前の章でStrategyパターンを使った。Strategyパターンを多用したのは、io.Writerインターフェイスである。io.Writer インターフェースは書き込むためのストラテジーを定義するもので、その機能は常に同じとなる。標準出力に書くことも、ファイルに書くことも、ユーザー定義型に書くこともできるが、最後にやることは同じ、「書く」ことです。書き込むための戦略を変えるだけである（この場合は書き込む場所を変えている）。

## Chain of responsibility pattern

- このパターンは、責任の連鎖（Chain of Responsibility）と呼ばれる
- チェーンで接続された構造で構成され、各リンクは単一責任の原則に従う

### 単一責任

- 型、関数、メソッド、または類似の抽象化は、単一の責任のみを持ち、そのことだけに専念する
- この原則に従えば、構造体、スライス、マップなどに対して、それぞれ1つのことを実現する関数を多数適用することができる
- これらの抽象化を論理的に適用していくと、例えば、ロギングチェーンのように、順番に実行されるように連鎖させることができる
  - ロギングチェーンとは、あるプログラムの出力を複数のio.Writerインターフェイスにログ出力する型の集合のこと
  - コンソールにログを記録するタイプ、ファイルにログを記録するタイプ、リモートサーバーにログを記録するタイプなどが考えられる
  - ロギングを行うたびに3つの呼び出しを行うこともできるが、1つだけ行って連鎖反応を引き起こす方がよりエレガント
Chain of responsibilityパターンの目的
