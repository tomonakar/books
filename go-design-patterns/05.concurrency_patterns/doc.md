# Concurrency patterns

## Barrier concurrency pattern

まずはBarrierパターンから始めましょう。
その目的は単純で、必要な結果がすべて揃うまで誰も通らないようにバリアを張ることです。
これは、並行処理アプリケーションではよくあることです。

### 説明

マイクロサービスアプリケーションで、あるサービスが他の3つのマイクロサービスの応答をマージして応答を構成する必要がある状況を想像してください。ここで、Barrierパターンが役に立ちます。

Barrierパターンは、1つまたは複数の異なるGoroutines（またはサービス）が返す結果と合成されるまで、
その応答をブロックするサービスになることができる。
では、ブロックする性質を持つプリミティブにはどのようなものがあるでしょうか。
ロックも使えますが、バッファのないチャンネルを使うのがGoでは一般的です。

### 目的

Barrierパターンはその名が示すように、実行を停止させ、終了する準備が整う前に終了しないようにしようとします。
Barrierパターンの目的は以下の通りです。

- 1つまたは複数のGoroutineから来るデータで型の値を構成する
- それらの受信データパイプの正しさを制御し、矛盾したデータが返されないようにする。パイプの1つがエラーを返したために、結果が部分的に満たされるようでは困ります

